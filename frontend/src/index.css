@import "tailwindcss";

@theme {
  --color-bg: #0b0c10;
  --color-bg-2: #12141a;
  --color-panel: #151820;
  --color-panel-2: #1c202a;
  --color-border: #2a2f3b;
  --color-muted: #9aa4b2;
  --color-text: #f1f4f9;
  --color-accent: #e50914;
  --color-accent-2: #ff7b7b;

  --font-display: "Fraunces", serif;
  --font-body: "Space Grotesk", "Segoe UI", sans-serif;
  --font-emoji: "Noto Color Emoji", "Apple Color Emoji", "Segoe UI Emoji", sans-serif;
}

html.light {
  --color-bg: #f5f5f7;
  --color-bg-2: #eaeaef;
  --color-panel: #ffffff;
  --color-panel-2: #f0f0f5;
  --color-border: #d4d4d8;
  --color-muted: #6b7280;
  --color-text: #1a1a2e;
  --color-accent: #e50914;
  --color-accent-2: #c2185b;
}

body {
  font-family: var(--font-body), var(--font-emoji);
  background: radial-gradient(
      1200px 600px at 20% -10%,
      rgba(229, 9, 20, 0.18),
      transparent
    ),
    radial-gradient(900px 500px at 90% 10%, rgba(255, 123, 123, 0.12), transparent),
    var(--color-bg);
  background-attachment: fixed;
  background-repeat: no-repeat;
  color: var(--color-text);
  min-height: 100vh;
}

html.light body {
  background: radial-gradient(
      1200px 600px at 20% -10%,
      rgba(229, 9, 20, 0.08),
      transparent
    ),
    radial-gradient(900px 500px at 90% 10%, rgba(255, 123, 123, 0.06), transparent),
    var(--color-bg);
}

/* Brave on iOS can lag heavily with fixed backgrounds, blur overlays, and deep shadows. */
html.ios-brave body {
  background: var(--color-bg);
  background-attachment: scroll;
}

html.ios-brave .backdrop-blur-sm,
html.ios-brave .backdrop-blur-md {
  -webkit-backdrop-filter: none !important;
  backdrop-filter: none !important;
}

html.ios-brave .shadow-2xl,
html.ios-brave [class*="shadow-["] {
  box-shadow: none !important;
}

html.ios-brave *,
html.ios-brave *::before,
html.ios-brave *::after {
  animation-duration: 0ms !important;
  animation-delay: 0ms !important;
  transition-duration: 0ms !important;
  transition-delay: 0ms !important;
}

html.ios-brave button,
html.ios-brave [role="button"],
html.ios-brave a {
  touch-action: manipulation;
}

/* Layout container used by topbar + main */
.page-container {
  width: 100%;
  max-width: 1400px;
  margin-left: auto;
  margin-right: auto;
  padding-left: 2rem;
  padding-right: 2rem;
}

@media (min-width: 640px) {
  .page-container {
    padding-left: 3rem;
    padding-right: 3rem;
  }
}

@media (min-width: 1024px) {
  .page-container {
    padding-left: 4rem;
    padding-right: 4rem;
  }
}

* {
  scrollbar-width: thin;
  scrollbar-color: rgba(229, 9, 20, 0.45) rgba(255, 255, 255, 0.06);
}

*::-webkit-scrollbar {
  width: 10px;
  height: 8px;
}

*::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.06);
  border-radius: 999px;
}

*::-webkit-scrollbar-thumb {
  background: rgba(229, 9, 20, 0.45);
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: padding-box;
}

*::-webkit-scrollbar-thumb:hover {
  background: rgba(229, 9, 20, 0.75);
}

html.light * {
  scrollbar-color: rgba(229, 9, 20, 0.35) rgba(0, 0, 0, 0.06);
}

html.light *::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.06);
}

html.light *::-webkit-scrollbar-thumb {
  background: rgba(229, 9, 20, 0.35);
}

html.light *::-webkit-scrollbar-thumb:hover {
  background: rgba(229, 9, 20, 0.6);
}

/* Prevent iOS zoom on input focus (requires 16px minimum) */
@media screen and (max-width: 640px) {
  input,
  select,
  textarea {
    font-size: 16px !important;
  }
}

.advanced-year-range {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  background: transparent;
  pointer-events: none;
  -webkit-appearance: none;
  appearance: none;
}

.advanced-year-input::-webkit-outer-spin-button,
.advanced-year-input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

.advanced-year-input[type="number"] {
  -moz-appearance: textfield;
  appearance: textfield;
}

.advanced-year-span-toggle-track {
  position: relative;
  display: inline-flex;
  width: 40px;
  height: 20px;
  border-radius: 999px;
  border: 1px solid var(--color-border);
  background: color-mix(in srgb, var(--color-panel-2) 78%, transparent);
  transition: background-color 160ms ease, border-color 160ms ease;
}

.advanced-year-span-toggle-knob {
  position: absolute;
  left: 2px;
  top: 50%;
  width: 16px;
  height: 16px;
  border-radius: 999px;
  background: color-mix(in srgb, var(--color-text) 92%, transparent);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.35);
  transform: translate(0, -50%);
  transition: transform 200ms ease-out;
}

.advanced-year-span-toggle-input:checked + .advanced-year-span-toggle-track {
  border-color: rgba(229, 9, 20, 0.7);
  background: rgba(229, 9, 20, 0.35);
}

.advanced-year-span-toggle-input:checked + .advanced-year-span-toggle-track .advanced-year-span-toggle-knob {
  transform: translate(20px, -50%);
}

.advanced-year-range::-webkit-slider-runnable-track {
  height: 100%;
  background: transparent;
}

.advanced-year-range::-moz-range-track {
  height: 100%;
  background: transparent;
}

.advanced-year-range::-webkit-slider-thumb {
  pointer-events: auto;
  -webkit-appearance: none;
  appearance: none;
  width: 16px;
  height: 16px;
  border-radius: 999px;
  background: var(--color-accent);
  border: 2px solid var(--color-panel);
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.12);
  cursor: pointer;
  margin-top: 10px;
}

.advanced-year-range::-moz-range-thumb {
  pointer-events: auto;
  width: 16px;
  height: 16px;
  border-radius: 999px;
  background: var(--color-accent);
  border: 2px solid var(--color-panel);
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.12);
  cursor: pointer;
}

html.light .advanced-year-range::-webkit-slider-thumb {
  box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
}

html.light .advanced-year-range::-moz-range-thumb {
  box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.1);
}
